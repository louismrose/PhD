%!TEX root = /Users/louis/Documents/PhD/Deliverables/Thesis/thesis.tex

\section{Tools for MDE}
\label{sec:mde_tools}
Mature and powerful tools and languages for many common MDE activities are available today. This section discusses two MDE tools that are well-suited for MDE research and that are used in the remainder of the thesis.

Section~\ref{subsec:emf} provides an overview of the Eclipse Modelling Framework (EMF) \cite{steinberg09emf}, which implements MOF and underpins many contemporary MDE tools and languages, facilitating their interoperability. Section~\ref{subsec:epsilon} discusses Epsilon \cite{kolovos09thesis}, an extensible platform for the specification of model management languages. The highly extensible nature of Epsilon (which is described below) makes it an ideal host for the rapid prototyping of languages and exploring research hypotheses.  

The purpose of this section is to review EMF and Epsilon, and not to provide a thorough review of all MDE tools. There are many other MDE tools and environments that this section does not discuss, such as ATL and VIATRA for M2M transformation (Section~\ref{subsubsec:model_transformation}), oAW\footnote{\url{http://www.eclipse.org/workinggroups/oaw/}} for model transformation and validation, and the AMMA platform\footnote{\url{http://wiki.eclipse.org/AMMA}} for large-scale modelling, model weaving and software modernisation.

\subsection{Eclipse Modelling Framework}
\label{subsec:emf}
The Eclipse Foundation\footnote{\url{http://www.eclipse.org}} is an open-source community seeking to build an extensible development platform. The Eclipse Modelling Framework (EMF) project \cite{steinberg09emf} provides support for MDE within Eclipse. EMF provides code generation facilities, and a meta-modelling language, Ecore, that implements the MOF 2.0 standard \cite{mof}. EMF is arguably the most widely-used contemporary MDE modelling framework.

EMF is used to generate metamodel-specific editors for loading, storing and constructing models. EMF model editors comprise a navigation view for specifying the elements of the model, and a properties view for specifying the features of model elements. Figure~\ref{fig:emf_model_editor} shows an EMF model editor for a simple state machine language. The navigation (or tree) view is shown in the top pane, while the properties view is shown in the bottom pane.

\begin{figure}[htbp]
  \begin{center}
    \leavevmode
    \includegraphics[width=10cm]{2.Background/images/emf_model_editor.png}
  \end{center}
  \caption{An EMF model editor for state machines.}
  \label{fig:emf_model_editor}
\end{figure}

Users of EMF can define their own metamodels in Ecore, the metamodelling language and MOF implementation of EMF. EMF provides two metamodel editors, tree-based and graphical. Figure~\ref{fig:emf_metamodel_editor_tree} shows the metamodel of a simple state machine language in the tree-based metamodel editor. Figure~\ref{fig:emf_metamodel_editor_diagrammatic} shows the same metamodel in the graphical metamodel editor. Like MOF, the graphical metamodel editor uses concrete syntax similar to that of UML class diagrams. Emfatic\footnote{\url{http://www.alphaworks.ibm.com/tech/emfatic}} provides a further, textual metamodel editor for EMF, and is shown in Figure~\ref{fig:emf_metamodel_editor_textual}. The editors shown in Figure~\ref{fig:emf_metamodel_editor_tree}, \ref{fig:emf_metamodel_editor_diagrammatic} and \ref{fig:emf_metamodel_editor_textual} are used to manipulate the same underlying metamodel, but using different syntaxes. A change to the metamodel in one editor can be propagated automatically to the other two.

\begin{figure}[htbp]
  \begin{center}
    \leavevmode
    \includegraphics[width=10cm]{2.Background/images/emf_metamodel_tree.png}
  \end{center}
  \caption{EMF's tree-based metamodel editor.}
  \label{fig:emf_metamodel_editor_tree}
\end{figure}

\begin{figure}[htbp]
  \begin{center}
    \leavevmode
    \includegraphics[width=10cm]{2.Background/images/emf_metamodel_diagrammatic.png}
  \end{center}
  \caption{EMF's graphical metamodel editor.}
  \label{fig:emf_metamodel_editor_diagrammatic}
\end{figure}

\begin{figure}[htbp]
  \begin{center}
    \leavevmode
    \includegraphics[width=10cm]{2.Background/images/emf_metamodel_textual.png}
  \end{center}
  \caption{The Emfatic textual metamodel editor for EMF.}
  \label{fig:emf_metamodel_editor_textual}
\end{figure}

From a metamodel, EMF can generate an editor for models that conform to that metamodel. For example, the simple state machine metamodel specified in Figures~\ref{fig:emf_metamodel_editor_tree}, \ref{fig:emf_metamodel_editor_diagrammatic} and \ref{fig:emf_metamodel_editor_textual} was used to generate the code for the model editor shown in Figure~\ref{fig:emf_model_editor}. The model editors generated by EMF incorporate mechanisms for loading and saving models. As prescribed by MOF, EMF typically generates code that stores models using XMI \cite{xmi}, a dialect of XML optimised for model interchange.

The Graphical Modeling Framework (GMF) \cite{gronback09emp} is used to create graphical model editors from metamodels defined with EMF. Figure~\ref{fig:gmf_model_editor} shows a model editor produced with GMF for the simple state machine language described above. GMF itself uses a model-driven approach: users specify several models, which are combined, transformed and then used to generate code for the resulting graphical editor. 

\begin{figure}[htbp]
  \begin{center}
    \leavevmode
    \includegraphics[width=10cm]{2.Background/images/gmf_model_editor.png}
  \end{center}
  \caption{GMF state machine model editor.}
  \label{fig:gmf_model_editor}
\end{figure}

Many MDE tools are interoperable with EMF, enriching its functionality. The remainder of this section discusses one tool that is interoperable with EMF, Epsilon.

\subsection{Epsilon}
\label{subsec:epsilon}
The Extensible Platform for Specification of Integrated Languages for mOdel maNagement (Epsilon) \cite{kolovos09thesis} is a suite of tools and domain-specific languages for MDE. Epsilon comprises several integrated model management languages -- built on \changed{``atop'' to ``on''} a common infrastructure -- for performing tasks such as model transformation, model validation and model merging \cite{kolovos09thesis}. Figure \ref{fig:epsilon} illustrates the various components of Epsilon.

Whilst many model management languages are bound to a particular subset of modelling technologies, limiting their applicability, Epsilon is metamodel-agnostic: models written in any modelling language can be manipulated by Epsilon's model management languages \cite{kolovos06eol}. Currently, Epsilon supports models implemented using EMF, MOF 1.4, XML, or Community Z Tools (CZT)\footnote{\url{http://czt.sourceforge.net/}}. Interoperability with further modelling technologies can be achieved by extension of the Epsilon Model Connectivity (EMC) layer. 

\begin{figure}[htbp]
  \begin{center}
    \leavevmode
    \includegraphics[scale=0.6]{2.Background/images/epsilon.png}
  \end{center}
  \caption[The architecture of Epsilon]{The architecture of Epsilon, taken from \cite{rose08egl}.}
  \label{fig:epsilon}
\end{figure}

The architecture of Epsilon promotes reuse when building task-specific model management languages and tools. Each Epsilon language can be reused wholesale in the production of new languages. Ideally, the developer of a new language only has to design language concepts and logic that do not already exist in Epsilon languages. As such, new task-specific languages can be implemented in a minimalistic fashion. This \cc claim has been demonstrated by the style of implementation used to construct the Epsilon Generation Language (EGL) \cite{rose08egl}.

The Epsilon Object Language (EOL) \cite{kolovos06eol} is the core of the platform and provides functionality similar to that of OCL \cite{ocl2}. However, EOL provides an extended feature set, which includes the ability to update models, access to multiple models, conditional and loop statements, statement sequencing, and provision of standard output and error streams.

As shown in Figure \ref{fig:epsilon}, every Epsilon language re-uses EOL, so improvements to EOL enhance the entire platform. EOL also allows developers to delegate computationally intensive tasks to extension points, where the task can be authored in Java.

Epsilon is a member of the Eclipse GMT\footnote{\url{http://www.eclipse.org/gmt}} project, a research incubator for the top-level modelling technology project. Epsilon provides a lightweight means for defining new experimental languages for MDE. For these reasons, Epsilon is uniquely positioned as an ideal host for the rapid prototyping of languages for model management, and hence has been used extensively for the work described in Chapter~\ref{Implementation}. 

\subsection{Summary}
This section has introduced the MDE tools used throughout the remainder of the thesis. The Eclipse Modeling Framework (EMF) provides an implementation of MOF, Ecore, for defining metamodels. From metamodels defined in Ecore, EMF can generate code for metamodel-specific editors and for persisting models to disk. EMF is arguably the most widely used contemporary MDE modelling framework and its functionality is enhanced by numerous tools, such as the Graphical Modeling Framework (GMF) and Epsilon. GMF allows metamodel developers to specify a graphical concrete syntax for metamodels, and can be used to generate graphical model editors. Epsilon is an extensible platform for defining and executing model management languages, provides a high degree of re-use for defining new model management languages and can be used with a range of modelling frameworks, including EMF.