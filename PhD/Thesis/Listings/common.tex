\lstset{
	captionpos=b,
	breaklines=true,
	xleftmargin=25pt,
	basicstyle=\ttfamily\scriptsize,
	lineskip=3pt, % one-and-a-half-line spacing, see notes below
	numberstyle=\tiny,
	flexiblecolumns=true,
	numbers=left,
	nolol=false,
	tabsize=2,
	escapechar=\%
}

% From http://www.york.ac.uk/admin/gso/exams/thesis/requirements.htm
% - In typescript or printout, one-and-a-half line spacing or equivalent shall be used, although double spacing may be used if necessary. Lines that contain mathematical formulae, diacritical marks or strings of capital letters may need additional space. It should be clear when a new paragraph is starting and where matter in the text is being quoted.



\definecolor{highlighted}{RGB}{200,200,200}
\newcommand{\highlight}{\makebox[0pt][l]{\color{highlighted}\rule[-4pt]{\linewidth}{12pt}}}